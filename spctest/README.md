# SPC-700 test ROM

This is an SNES ROM that performs comprehensive testing of the SPC-700 instruction set.

If a test fails, see the autogenerated tests.txt or spc_tests*.asm files for details about the test.

### The ROM tests the following:

- All SPC-700 opcodes except SLEEP and STOP
- Each instruction is tested in all supported addressing modes
- Multiple tests per instruction, designed to test edge cases and correct flag result
- Behavior with and without P=1 flag

### The ROM does *not* test:

- Cycle count taken by instructions, or other timing-related behavior
- Dummy reads
- S-SMP memory-mapped registers (e.g. timers)
- DSP


## Building:

Required tools are ca65/ld65, [spcasm](https://github.com/kleinesfilmroellchen/spcasm), and Python 3.

Either use the Makefile by running `make`, or run:

    python3 make_tests.py
    spcasm -f plain spc_tests0.asm spc_tests0.spc
    spcasm -f plain spc_tests1.asm spc_tests1.spc
    spcasm -f plain spc_tests2.asm spc_tests2.spc
    ca65 spctest.asm -o spctest.o
    ld65 -C lorom128.cfg -o spctest.sfc spctest.o
